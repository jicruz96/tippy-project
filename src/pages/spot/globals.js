export const nWorkers = 4,
  popsizeMultiplier = 4,
  epLen = 4000,
  cmaSigma = 0.1,
  displayCreatureCount = 16

export const w = 1400,
  h = 400,
  ts = 1 / 60,
  metersToPixels = 400,
  b2GroundH = 0,
  b2GroundW = 300,
  canvasGroundH = 40,
  // shoulderHMeters = -0.4932,
  shoulderHMeters = -0.55,
  // cameraW = 0.5 * w,
  cameraInitX = 1100,
  cameraInitY = h - canvasGroundH,
  upperLegPts = [
    0.2518, -0.2119, -0.0261, 0.073, -0.0795, 0.0168, 0.2209, -0.2437,
  ],
  upperLegPtsDraw = upperLegPts.map((x) => -x * metersToPixels),
  kneePt = [0.2239, -0.2159],
  kneePtDraw = kneePt.map((x) => -metersToPixels * x),
  // lowerLegPts = [
  //   0.047, 0.0206, 0.0169, 0.0468, -0.2457, -0.2391, -0.2213, -0.2602,
  // ],
  // lowerLegPts = [
  //   0.047, 0.0206, 0.0169, 0.0468, -0.2166, -0.2074, -0.1917, -0.2292,
  // ],
  lowerLegPts = [
    0.047, 0.0206, 0.0169, 0.0468, -0.1942, -0.1833, -0.1693, -0.2051,
  ],
  lowerLegPtsDraw = lowerLegPts.map((x) => -x * metersToPixels),
  anklePt = [0.2247, 0.2419],
  anklePtDraw = anklePt.map((x) => x * metersToPixels),
  footRadius = 0.035402,
  // footRadius = 0.05,
  footRadiusDraw = metersToPixels * footRadius,
  // density = 1,
  // friction = 0.95,
  // restitution = 0.1,
  chassisPts = [
    0.6962, -0.0616, 0.7071, 0.0672, -0.1433, 0.074, -0.0822, -0.0873,
  ],
  chassisPtsDraw = chassisPts.map((x) => -x * metersToPixels),
  hipPt = [0.5838, 0],
  hipPtDraw = hipPt.map((x) => -metersToPixels * x),
  // upperLegLimits = [-0.3 * Math.PI, 0.15 * Math.PI],
  upperLegLimits = [-0.35 * Math.PI, 0.15 * Math.PI],
  // upperLegMaxTorque = 1.0,
  upperLegMaxTorque = 1.0,
  // lowerLegLimits = [-0.35 * Math.PI, 0.08 * Math.PI],
  lowerLegLimits = [-0.35 * Math.PI, 0.15 * Math.PI],
  // lowerLegMaxTorque = 0.8,
  lowerLegMaxTorque = 1.0,
  // maxSpeed = 5,
  maxSpeed = 6,
  // maxSpeed = 3,
  maxSpeedDiff = 1.0,
  nJointAngleBins = 100,
  uniformDistBinCount = epLen / nJointAngleBins,
  rollingWindow = 8,
  targetVelX = 1

export const cmaMeanInit = Float32Array.from([
  -4.657745361328125, -1.3866255283355713, -12.033345222473145,
  3.310786247253418, 3.264359712600708, 4.369760036468506, 1.4250590801239014,
  2.8595685958862305, -5.266165733337402, 8.023561477661133, 5.1022629737854,
  -11.662016868591309, -8.738048553466797, -8.631733894348145,
  13.163140296936035, 9.408528327941895, 14.510215759277344, -9.578883171081543,
  -3.825205087661743, -13.517670631408691, 11.657623291015625, 4.42660665512085,
  -5.160345554351807, -10.382041931152344, -13.557269096374512,
  4.109170436859131, 14.763008117675781, -10.612492561340332,
  11.547207832336426, -8.73119068145752, 0.6397029757499695,
  -11.035240173339844, 3.2561047077178955, -5.910154819488525,
  -5.295793056488037, -1.017529010772705, 3.7499659061431885,
  -2.769634246826172, 4.087189197540283, 3.7802345752716064,
  -3.6115081310272217, 2.3060386180877686, -15.15159797668457,
  -8.573238372802734, -2.535712957382202, -2.317251205444336,
  -10.47507381439209, 10.279909133911133, -2.203740358352661,
  -4.604831695556641, -0.6054303050041199, -3.111947536468506,
  -1.2757933139801025, -12.381153106689453, 3.7812371253967285,
  8.251448631286621, 10.71847915649414, 1.2502961158752441, -3.8949766159057617,
  14.169062614440918, 8.993315696716309, -0.11049257963895798,
  0.3913384974002838, 1.1717170476913452, 3.075956106185913, -2.603727102279663,
  0.428038090467453, -2.320542812347412, -0.42455777525901794,
  1.9024797677993774, 3.6540822982788086, 7.071680545806885, 4.711944580078125,
  0.04070279747247696, -4.033210277557373, 2.694281578063965,
  -4.105454444885254, -1.750751256942749, -9.691014289855957, 9.282195091247559,
  -12.753439903259277, 2.118377923965454, 1.817147135734558,
  -3.2775330543518066, -5.367528915405273, -9.767395973205566,
  4.906717300415039, 3.555147886276245, 3.338860511779785, 8.10708999633789,
  -12.131606101989746, -14.435002326965332, -1.216173529624939,
  -2.7268712520599365, -0.5501744151115417, -0.5982435345649719,
  -8.675766944885254, 12.129179000854492, 13.321590423583984,
  21.536325454711914, -14.990818977355957, 8.94437026977539,
  -11.005807876586914, 10.580887794494629, -8.59623908996582, -1.67684805393219,
  11.130093574523926, 9.13935661315918, 8.126432418823242, 1.8388720750808716,
  6.117777347564697, -18.695981979370117, 7.778489112854004, 2.3785624504089355,
  8.21226978302002, -1.6288907527923584, -6.489264011383057, 6.354172706604004,
  0.20291058719158173, 7.733358860015869, -5.356312274932861, 7.871093273162842,
  -6.738729476928711, -14.664938926696777, 7.2750043869018555,
  -9.733050346374512, 17.329309463500977, -3.231701374053955,
  -3.1386191844940186, 0.509166419506073, -9.532939910888672, 4.207180023193359,
  -4.592642307281494, -0.4854167401790619, -10.454553604125977,
  -7.909143924713135, 1.7593003511428833, -10.906351089477539,
  -3.1363136768341064, -6.738506317138672, -6.156559944152832,
  -8.555266380310059, 11.617069244384766, 21.43716812133789, 2.7397632598876953,
  8.600813865661621, -2.1742053031921387, 2.7142374515533447,
  -12.670181274414062, 4.6694841384887695, 7.310868263244629, 7.267244338989258,
  10.467803001403809, -8.718870162963867, 16.028249740600586,
  -3.980930805206299, 1.2530678510665894, -8.145532608032227, -5.84381103515625,
  16.006938934326172, 6.182781219482422, 4.672645568847656, -10.142325401306152,
  7.643786430358887, 5.378488063812256, -5.84293794631958, 10.383304595947266,
  2.7052197456359863, -12.104555130004883, 1.5571098327636719, 3.05548357963562,
  -12.299128532409668, -4.351644515991211, 4.644934177398682,
  -3.7897801399230957, -13.592243194580078, -7.878691673278809,
  2.3208110332489014, -1.269008755683899, 3.456331491470337, -1.00554358959198,
  -1.2910867929458618, 1.9645347595214844, -8.742115020751953,
  -12.250194549560547, -0.6367547512054443, 6.929580211639404,
  -15.39238166809082, 9.230452537536621, -0.29803627729415894,
  0.2865097224712372, -15.359959602355957, 8.203083038330078, 2.677522897720337,
  -16.21235466003418, -14.001925468444824, -12.657628059387207,
  -4.87373161315918, 12.668987274169922, -8.355598449707031, 4.4004082679748535,
  3.5241713523864746, 1.0906120538711548, -0.3535153269767761,
  2.3466882705688477, 4.753189563751221, 2.583059787750244, -8.093052864074707,
  8.707534790039062, -0.6551088094711304, 8.082423210144043, -3.066342353820801,
  -12.396215438842773, 2.9383163452148438, 4.545548915863037, 1.501207947731018,
  -3.643289804458618, -2.129004955291748, 12.645214080810547,
  0.6097874045372009, 0.4528854489326477, -12.836543083190918,
  -4.224125862121582, 0.25839629769325256, 0.9877028465270996,
  7.081573009490967, 4.254159450531006, 15.779052734375, 12.020941734313965,
  -2.9140267372131348, -8.780303001403809, 10.989602088928223,
  -0.9242197871208191, 5.177490711212158, -4.585804462432861,
  -1.1005823612213135, -3.2037081718444824, -6.601403713226318,
  -13.655411720275879, 4.607207775115967, -1.476365089416504,
  -4.492757320404053, 9.881695747375488, 5.374475479125977, -2.635796070098877,
  -5.279156684875488, -4.070379257202148, -9.445215225219727,
  -9.202306747436523, 3.960397958755493, 1.9396755695343018,
  -15.519197463989258, -21.521739959716797, 6.207977771759033,
  -0.8380711674690247, -11.006186485290527, 5.487262725830078,
  10.41186237335205, -2.8281869888305664, -3.848121404647827,
  -7.3082356452941895, 14.638585090637207, -5.521474361419678,
  -0.15181775391101837, 8.547465324401855, -6.023309707641602,
  -9.475427627563477, 4.368182182312012, 0.21612803637981415,
  -15.808575630187988, 20.51692771911621, 0.5301616191864014,
  -4.7148871421813965, 2.6670289039611816, 7.390977382659912,
  7.1696062088012695, 2.4439947605133057, 1.6447376012802124, 9.506770133972168,
  7.802790641784668, -0.2829080820083618, 6.100233554840088, -6.330566883087158,
  9.558208465576172, 8.117594718933105, -3.647128105163574, 2.548192024230957,
  -5.933753490447998, 13.955277442932129, -14.9644193649292, 15.48812198638916,
  2.196767807006836, 5.614635467529297, 8.411149978637695, -5.34518575668335,
  1.8592725992202759, -2.9845306873321533, -1.7148702144622803,
  15.863645553588867, 15.40249252319336, 4.121094703674316, 4.110169410705566,
  -9.778337478637695, -4.968455791473389, -8.524145126342773,
  -1.4454156160354614, 2.7117793560028076, 13.134766578674316,
  6.1955037117004395, 9.001842498779297, -1.9725086688995361,
  -6.532043933868408, -5.131644248962402, 0.9902943968772888,
  -3.2992684841156006, -1.494798183441162, 4.829473495483398, 5.720550060272217,
  8.581337928771973, -7.674528121948242, -5.0322489738464355,
  -1.352853775024414, 8.100107192993164, 8.475318908691406, -1.0600837469100952,
  6.614287376403809, -7.958450794219971, -13.837203979492188,
  -1.5987281799316406, -1.3100394010543823, -0.7386565804481506,
  -7.370744705200195, 3.7110559940338135, -19.602834701538086,
  7.135417938232422, -7.099925518035889, 0.797129213809967, 11.537450790405273,
  -6.04085636138916, 4.334213733673096, 0.3924579620361328, -18.92581558227539,
  3.682396411895752, 2.9526734352111816, 6.168929100036621, -0.9339762330055237,
  0.5923511385917664, -7.610025882720947, -2.664696455001831,
  -7.378530979156494, 3.6094117164611816, 2.1174397468566895,
  1.1990514993667603, -11.850831985473633, 4.098474979400635,
  -9.661742210388184, -1.6567494869232178, 6.943885326385498, 7.252347469329834,
  8.248005867004395, -17.12749671936035, -13.258204460144043,
  -0.3322802782058716, -15.56558609008789, -14.646713256835938,
  15.994047164916992, -3.1063385009765625, -7.737937927246094,
  6.010456562042236, -3.551220655441284, 7.92426061630249, 1.137144923210144,
  -9.14099407196045, -6.783447265625, 8.891838073730469, 7.173715591430664,
  5.488510608673096, -13.226410865783691, 15.678061485290527,
  -1.5670294761657715, -2.4145238399505615, -10.081132888793945,
  -4.824934005737305, 8.457667350769043, -7.654112815856934, 1.2229187488555908,
  -4.738175868988037, -9.77851676940918, 5.729738712310791, 0.11308012157678604,
  -0.8038052916526794, -28.861968994140625, 1.1556044816970825,
  -3.206632137298584, -10.294421195983887, 0.142990842461586,
  -3.8698456287384033, -0.5114477276802063, 9.765935897827148,
  -2.491237163543701, -1.7780842781066895, 4.0799455642700195,
  -24.110252380371094, -3.711155652999878, 8.413335800170898,
  -13.976852416992188, 7.98535680770874, -1.1509472131729126,
  10.581082344055176, 0.9087067246437073, -1.4719884395599365,
  -0.9178904891014099, -7.566404342651367, -14.06944751739502,
  3.711322546005249, 0.2436501532793045, -1.7423521280288696,
  -12.43548583984375, 9.207294464111328, 8.730647087097168, -14.62609577178955,
  -0.22389574348926544, 20.83498764038086, -6.167695999145508,
  0.560858428478241, 20.46656608581543, 13.165373802185059, -0.415301114320755,
  1.5407185554504395, 5.902239799499512, 0.19024346768856049,
  -2.5397915840148926, -8.048541069030762, 1.0621768236160278, -4.2436842918396,
  1.8910211324691772, -3.9996795654296875, -3.864471912384033,
  -1.5268614292144775, -11.168912887573242, -8.046788215637207,
  1.5225023031234741, -7.670288562774658, -1.4101239442825317,
  -1.3172975778579712, -0.20299029350280762, -7.9431939125061035,
  2.4284234046936035, -7.027848720550537, 1.6463345289230347, 5.060003757476807,
  -9.163565635681152, 0.5385441184043884, 4.486132621765137, 2.234252452850342,
  -2.045048475265503, -1.3804905414581299, -4.115851879119873,
  6.080038070678711, 4.20335578918457, 2.003678321838379, -0.6967311501502991,
  2.5457093715667725, -0.8599109649658203, -17.385412216186523,
  9.456475257873535, -4.250700950622559, 13.755253791809082,
  -21.372779846191406, 1.8380119800567627, 6.02418851852417, -8.589399337768555,
  11.958146095275879, 2.650796413421631, -11.182587623596191, 7.026295185089111,
  -5.9266510009765625, -17.39790153503418, -11.64460277557373,
  -10.541739463806152, -14.676935195922852, 4.428016185760498,
  5.551878929138184, 5.647244453430176, -5.51271915435791, 5.103479862213135,
  1.309457778930664, -5.742668151855469, -4.853992462158203, -7.708204746246338,
  1.7129220962524414, 1.0103007555007935, -14.287549018859863,
  8.537672996520996, -9.676522254943848, 7.508896350860596, -2.774013042449951,
  -1.5682681798934937, 15.529816627502441, -0.21364443004131317,
  0.8824161291122437, 4.8035807609558105, 8.650884628295898, -8.82285213470459,
  10.914685249328613, 16.36712074279785, 3.1701066493988037, 18.7506160736084,
  4.673903465270996, 7.120995044708252, 4.525777339935303, -0.6950621604919434,
  -2.1989433765411377, -8.64819049835205, -13.839737892150879, 8.77845287322998,
  -18.26900863647461, -15.739385604858398, 1.2461168766021729,
  -5.35841178894043, 6.933792591094971, -1.3367433547973633, 5.565414905548096,
  -0.820067822933197, 7.04618501663208, -6.7162861824035645,
  -4.3323187828063965, -7.687788963317871, -20.3233699798584, 2.050381898880005,
  18.850521087646484, -5.144291877746582, -2.935210943222046,
  2.3162240982055664, -0.2553967535495758, 12.227867126464844,
  14.42087459564209, 19.262554168701172, 6.8200364112854, -6.533962726593018,
  -13.903209686279297, -6.003807067871094, 4.218234062194824,
  -13.22422981262207, -10.808931350708008, -8.494077682495117,
  15.517051696777344, 3.6454179286956787, -6.3536376953125, 14.126588821411133,
  5.739182472229004, -0.03323923423886299, -1.6552973985671997,
  -14.808792114257812, 6.490632057189941, 13.673150062561035,
  -0.39209386706352234, -12.013628005981445, 0.055104635655879974,
  11.531034469604492, -11.332298278808594, 0.31321850419044495,
  -0.1822877675294876, -3.4709017276763916, 10.883585929870605,
  -7.08734130859375, 13.164807319641113, 5.085231304168701, -7.5312395095825195,
  -1.6841111183166504, 0.4030313193798065, -4.769532680511475,
  -0.11873975396156311, 12.308802604675293, 2.342275619506836,
  -9.27330493927002, -5.339302062988281, 4.139087200164795, -3.0304272174835205,
  3.4695582389831543, 8.367120742797852, -7.243118762969971,
  -19.449159622192383, 4.913900852203369, 0.5197740793228149, 21.65508270263672,
  -12.683976173400879, -3.5555543899536133, -0.25713467597961426,
  14.36147403717041, -16.711732864379883, 2.922095775604248, -3.638378143310547,
  -1.4777706861495972, 24.507598876953125, 1.4436708688735962,
  2.4150290489196777, -8.775728225708008, -7.442809104919434, 10.00777816772461,
  -11.51144790649414, 7.699141025543213, -8.31843376159668, 0.08280333131551743,
  -10.683311462402344, 0.6819412112236023, 2.0884437561035156,
  -1.75669264793396, -12.183501243591309, -9.919581413269043,
  -0.2958821952342987, 2.89178729057312, -2.8669090270996094,
  -7.690389156341553, 0.16158463060855865, -8.105830192565918,
  2.578279733657837, -4.828826427459717, -1.8003343343734741, 5.197546005249023,
  6.30916166305542, -3.772552251815796, -3.674820899963379, -6.694810390472412,
  1.8506615161895752, 4.432969093322754, -15.09813117980957, -6.903271198272705,
  6.642515659332275, 6.442625045776367, -6.794097900390625, -7.57397985458374,
  -3.526214599609375, 0.8804994821548462, -15.415545463562012,
  1.050238847732544, -4.190955638885498, -4.584449291229248,
  -10.446924209594727, 10.535743713378906, 0.8186288475990295,
  1.2042502164840698, 2.6767995357513428, -3.8851709365844727,
  0.05652117729187012, -0.5072010159492493, -0.5986729860305786,
  -8.161643981933594, -3.915616035461426, 1.1772757768630981, 5.117048740386963,
  -1.3170276880264282, 1.6591476202011108, 5.940207004547119,
  -2.933765172958374, -1.4955648183822632, -6.059222221374512,
  -9.129839897155762, 1.4499413967132568, 6.890272617340088, -5.590106964111328,
  1.992922306060791, -1.556068778038025, -0.060235556215047836,
  -0.8334713578224182, -5.306826591491699, -10.00778865814209,
  -3.787116050720215, -7.073084831237793, -6.007552146911621,
  -6.061801433563232, 2.999391794204712, -2.7466084957122803,
  -0.7428988218307495, 0.9037715196609497, 4.020101070404053, 4.329568386077881,
  -1.5898993015289307, -4.636168479919434, -10.890979766845703,
  4.162439823150635, -7.273852825164795, -3.142735004425049, -7.932313442230225,
  0.9113547801971436, -4.074224472045898, 4.5482025146484375,
  -2.0781569480895996, 0.6627838015556335, 1.759673833847046, -3.99275279045105,
  5.874792575836182, 2.368485450744629, -3.2039597034454346, 13.243815422058105,
  15.285905838012695, -5.684516906738281, -9.663240432739258,
  -1.0453276634216309, 1.231655478477478, 0.16887205839157104,
  -7.82719087600708, 0.6288763880729675, -4.188246726989746, -4.05418586730957,
  3.4344370365142822, -5.686745643615723, 8.752174377441406, 11.750144958496094,
  -7.059301853179932, -3.2832720279693604, 3.0851643085479736,
  -1.0833642482757568, 1.365922451019287, -5.8299150466918945,
  12.850386619567871, -5.594422340393066, 6.998571395874023, -9.0920991897583,
  2.601287364959717, -7.402061462402344, 6.9816508293151855, 13.632552146911621,
  -3.9575746059417725, 2.0844013690948486, -5.559206008911133,
  -1.8723957538604736, -5.462682723999023, -4.012219429016113,
  1.569908857345581, -5.115901470184326, -4.156540870666504, -5.549752712249756,
  -7.446072101593018, -8.501460075378418, 1.3229929208755493,
  -3.6014344692230225, -2.5985639095306396, -10.310277938842773,
  -14.360136985778809, -1.2538714408874512, -2.2566909790039062,
  -6.144384860992432, -6.274656772613525, 9.603487968444824, 2.2446889877319336,
  -0.16247043013572693, -3.106379508972168, 1.6288573741912842,
  3.402287721633911, 2.2377817630767822, 7.7558488845825195, 3.6815993785858154,
  -0.0385269932448864, -2.617367744445801, -7.702469825744629,
  5.486609935760498, 3.8867247104644775, 5.19602632522583, -3.293642997741699,
  1.4901236295700073, 7.45111083984375, -5.852760314941406, -6.543854713439941,
  -3.2035274505615234, -1.4230120182037354, -2.733717441558838,
  -7.367424488067627, -5.069348335266113, -1.507745385169983, 5.621237754821777,
  0.12361299246549606, 4.1097588539123535, 9.111923217773438,
  3.1223766803741455, -2.582115650177002, -0.9857618808746338,
  -5.163644313812256, 5.304024696350098, -3.8373098373413086,
  1.5124136209487915, -0.3078736960887909, -1.4993782043457031,
  -6.94023323059082, 2.3735392093658447, 4.099696636199951, 3.596930980682373,
  1.3679147958755493, -4.278464317321777, 5.535072326660156, 1.2081999778747559,
  -5.015822410583496, -7.199364185333252, 5.298942565917969,
  -0.9253684878349304, 2.680299758911133, -3.333249092102051,
  -0.4188886880874634, -8.440831184387207, 4.018220901489258,
  -11.808876991271973, 1.202810525894165, 2.5708138942718506,
  -5.612508773803711, 2.2452054023742676, -4.541054725646973,
  -1.3240126371383667, 12.412901878356934, -10.735472679138184,
  -12.242737770080566, 3.627807140350342, -11.349102973937988,
  -16.35799789428711, 1.2977583408355713, 12.223645210266113,
  -6.677186012268066, -6.659238338470459, 1.4049166440963745,
  -2.107534170150757, 4.698306560516357, 4.756213188171387, -1.4964218139648438,
  17.278366088867188, 7.909180164337158, -5.091513156890869, -6.20597505569458,
  -21.15599250793457, 10.844690322875977,
])
